@page "/"
@inject ProtectedSessionStorage SessionStorage
@inject NavigationManager NavigationManager

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

@code{
    private User? user;

    protected  async Task OnIntializedAsync()
    {
        var result = await SessionStorage.GetAsync<User>("user");

        if(result.Success)
        {
            user = result.Value;
        }
        else
        {
            NavigationManager.NavigateTo("/login");
        }
    }
}
