@*LogInComponent*@
@inject SessionStorageService SessionStorageService
@inject HttpClient HttpClient

<div class="form-container">
    <div class="form-title">
        <h2>Logga in</h2>
    </div>

    <EditForm Model="@LoginModel" OnValidSubmit="LogInUser" class="form-wrapper">
        <div class="form-fields">
            <div class="form-group">
                <label for="username">Användarnamn</label>
                <InputText id="username" @bind-Value="LoginModel.Username" class="form-control" />
            </div>
            <div class="form-group">
                <label for="password">Lösenord</label>
                <InputText type="password" id="password" @bind-Value="LoginModel.Password" class="form-control" />
            </div>
        </div>
        <button type="submit" class="submit-button">Logga in</button>
    </EditForm>
</div>

@code {
    [Parameter] public UserLogin? LoginModel { get; set; } = new(){Username = "username", Password = "password"};
    [Parameter] public EventCallback<UserLogin> OnLogin { get; set; }

    public async Task LogInUser()
    {
        if (OnLogin.HasDelegate)
        {
            await OnLogin.InvokeAsync(LoginModel);
        }
    }
}

<style>
    .form-container {
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .form-wrapper {
        display: flex;
        flex-direction: column;
        flex: 1;
    }

    .form-fields {
        flex: 1;
    }
</style>
